<!DOCTYPE html><html lang="en-us" >


<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  
  
    <meta name="generator" content="Wowchemy 5.6.0 for Hugo" />
  

  
  












  
  










  







  
  
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media="print" onload="this.media='all'">
    
  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Michaël Karpe" />

  
  
  
    
  
  <meta name="description" content="Study of the convergence depending on the parameters of the algorithm" />

  
  <link rel="alternate" hreflang="en-us" href="https://michaelkarpe.github.io/computer-vision-projects/lloyd/" />

  
  
  
    <meta name="theme-color" content="#3f51b5" />
  

  
  
    
    <script src="/js/mathjax-config.js"></script>
  

  

  <link rel="stylesheet" href="/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css" media="print" onload="this.media='all'">

  
  
  
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha512-W0xM4mr6dEP9nREo7Z9z+9X70wytKvMGeDsj7ps2+xg5QPrEBXC8tAW1IFnzjR6eoJ90JmCnFzerQJTLzIEHjA==" crossorigin="anonymous" media="print" onload="this.media='all'">
    

    
    
    
    
      
      
    
    
    

    
    
    

    

    
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      
      

      
      

      
    
      
      

      
      

      
    
  

  
  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.9c4c13a48bae91f201c0af6081455e43.css" />

  
  
  
  
  
  
  
    
    
    <link rel="stylesheet" href="/css/libs/chroma/github-light.min.css" title="hl-light" media="print" onload="this.media='all'" >
    <link rel="stylesheet" href="/css/libs/chroma/dracula.min.css" title="hl-dark" media="print" onload="this.media='all'" disabled>
  

  
  




<script async src="https://www.googletagmanager.com/gtag/js?id=G-695H905YSX"></script>
<script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
      dataLayer.push(arguments);
  }

  function trackOutboundLink(url, target) {
    gtag('event', 'click', {
         'event_category': 'outbound',
         'event_label': url,
         'transport_type': 'beacon',
         'event_callback': function () {
           if (target !== '_blank') {
             document.location = url;
           }
         }
    });
    console.debug("Outbound link clicked: " + url);
  }

  function onClickCallback(event) {
    if ((event.target.tagName !== 'A') || (event.target.host === window.location.host)) {
      return;
    }
    trackOutboundLink(event.target, event.target.getAttribute('target'));  
  }

  gtag('js', new Date());
  gtag('config', 'G-695H905YSX', {});
  gtag('set', {'cookie_flags': 'SameSite=None;Secure'});

  
  document.addEventListener('click', onClickCallback, false);
</script>


  


  


  




  
  
  

  
  

  
  
    <link rel="manifest" href="/manifest.webmanifest" />
  

  
  <link rel="icon" type="image/png" href="/media/icon_hu942ec82bbfdd4b8fc9bf90d8cd76fd06_20106_32x32_fill_lanczos_center_3.png" />
  <link rel="apple-touch-icon" type="image/png" href="/media/icon_hu942ec82bbfdd4b8fc9bf90d8cd76fd06_20106_180x180_fill_lanczos_center_3.png" />

  <link rel="canonical" href="https://michaelkarpe.github.io/computer-vision-projects/lloyd/" />

  
  
  
  
  
  
  
  
    
  
  

  
  
    
    
  
  <meta property="twitter:card" content="summary_large_image" />
  
    <meta property="twitter:site" content="@wowchemy" />
    <meta property="twitter:creator" content="@wowchemy" />
  
  <meta property="og:site_name" content="Michaël Karpe" />
  <meta property="og:url" content="https://michaelkarpe.github.io/computer-vision-projects/lloyd/" />
  <meta property="og:title" content="★ Lloyd Iteration Convergence | Michaël Karpe" />
  <meta property="og:description" content="Study of the convergence depending on the parameters of the algorithm" /><meta property="og:image" content="https://michaelkarpe.github.io/computer-vision-projects/lloyd/featured.png" />
    <meta property="twitter:image" content="https://michaelkarpe.github.io/computer-vision-projects/lloyd/featured.png" /><meta property="og:locale" content="en-us" />
  
    
      <meta
        property="article:published_time"
        content="2018-05-07T00:00:00&#43;00:00"
      />
    
    <meta property="article:modified_time" content="2018-05-07T00:00:00&#43;00:00">
  

  



  

  


  <title>★ Lloyd Iteration Convergence | Michaël Karpe</title>

  
  
  
  











</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper   " data-wc-page-id="bf80c2bc257e6e85f97ccc0ddab9cb87" >

  
  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.1ee5462d74c6c0de1f8881b384ecc58d.js"></script>

  


<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="Close"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="Search...">
        
      </div>

      
      

      

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header">
    












<header class="header--fixed">
  <nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
    <div class="container-xl">

      
      <div class="d-none d-lg-inline-flex">
        <a class="navbar-brand" href="/">Michaël Karpe</a>
      </div>
      

      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar-content" aria-controls="navbar-content" aria-expanded="false" aria-label="Toggle navigation">
      <span><i class="fas fa-bars"></i></span>
      </button>
      

      
      <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
        <a class="navbar-brand" href="/">Michaël Karpe</a>
      </div>
      

      
      
      <div class="navbar-collapse main-menu-item collapse justify-content-end" id="navbar-content">

        
        <ul class="navbar-nav d-md-inline-flex">
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#about"><span>Home</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#kaggle-competitions"><span>Kaggle Competitions</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#computer-vision-projects"><span>Computer Vision</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#machine-learning-projects"><span>Machine Learning</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#optimization-projects"><span>Optimization</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#programming-projects"><span>Programming</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#quantitative-finance-projects"><span>Quantitative Finance</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#publications"><span>Publications</span></a>
          </li>

          
          

        

          
        </ul>
      </div>

      <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

        
        
          
        

        
        

        
        
        

        
        

      </ul>

    </div>
  </nav>
</header>


  </div>

  <div class="page-body">
    
    
    

    <article class="article">

  





















  
  


<div class="article-container pt-3">
  <h1>★ Lloyd Iteration Convergence</h1>

  
  <p class="page-subtitle">Study of the convergence depending on the parameters of the algorithm</p>
  

  


<div class="article-metadata">

  
  
  
  
  <div>
    

  <span >
      Michaël Karpe</span>, <span >
      Maxime Duval</span>
  </div>
  
  

  
  <span class="article-date">
    
    
      
    
    May 7, 2018
  </span>
  

  

  

  
  
  
  

  
  

</div>

  




<div class="btn-links mb-3">
  
  








  
    
  



<a class="btn btn-outline-primary btn-page-header" href="/computer-vision-projects/lloyd/Lloyd_convergence_iteration_report.pdf" target="_blank" rel="noopener">
  PDF
</a>




  
  
    
  
<a class="btn btn-outline-primary btn-page-header" href="https://github.com/MichaelKarpe/ponts-paristech-projects/tree/master/computer-vision/lloyd-convergence" target="_blank" rel="noopener">
  Code
</a>













  
  
  
    
  
  
  
  
  
    
    
      
    
  
  <a class="btn btn-outline-primary btn-page-header" href="/computer-vision-projects/lloyd/Lloyd_convergence_iteration_slides.pdf" >
    Slides</a>


</div>


</div>


<div class="article-header article-container featured-image-wrapper mt-4 mb-4" style="max-width: 399px; max-height: 400px;">
  <div style="position: relative">
    <img src="/computer-vision-projects/lloyd/featured_hu9c70cafdec953a74e8dc7f0486a787e4_7034_720x2500_fit_q75_h2_lanczos_3.webp" width="399" height="400" alt="" class="featured-image">
    
  </div>
</div>



  <div class="article-container">

    <div class="article-style">
      <p> </p>
<h1 id="relocation-vectors">Relocation vectors</h1>
<h2 id="calculation">Calculation</h2>
<p>The visualization of the relocation vectors is obtained by plotting the segments between the generators before and after Lloyd&rsquo;s iteration. The generators of the cells in the previous iteration have been drawn in red.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>















<figure  id="figure-visualization-of-relocation-vectors">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q2_relocation.png" alt="Visualization of relocation vectors." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualization of relocation vectors.
    </figcaption></figure></td>
<td>















<figure  id="figure-visualization-of-the-cells-after-convergence">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q3_uniform_image.png" alt="Visualization of the cells after convergence." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualization of the cells after convergence.
    </figcaption></figure></td>
</tr>
</tbody>
</table>
<p> </p>
<h2 id="convergence">Convergence</h2>
<p>For the plotting of the convergence curves, we saved the different values in .txt files and processed the data in Python language, with the matplotlib.pyplot library. We can see that this evolution is globally decreasing, with an increase in energy when the cells &ldquo;unblock&rdquo; after having converged to a local minimum of energy.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>















<figure  id="figure-evolution-in-logarithmic-scale-of-the-mean-norm-of-the-relocation-vectors-as-a-function-of-the-number-of-lloyds-iterations-for-a-uniform-initialization">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q3_uniform_length.png" alt="Evolution in logarithmic scale of the mean norm of the relocation vectors as a function of the number of Lloyd&#39;s iterations for a **uniform** initialization." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution in logarithmic scale of the mean norm of the relocation vectors as a function of the number of Lloyd&rsquo;s iterations for a <strong>uniform</strong> initialization.
    </figcaption></figure></td>
<td>















<figure  id="figure-evolution-in-logarithmic-scale-of-the-mean-norm-of-the-relocation-vectors-as-a-function-of-the-number-of-lloyds-iterations-for-an-initialization-in-one-corner">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q3_coin_length.png" alt="Evolution in logarithmic scale of the mean norm of the relocation vectors as a function of the number of Lloyd&#39;s iterations for an initialization **in one corner**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution in logarithmic scale of the mean norm of the relocation vectors as a function of the number of Lloyd&rsquo;s iterations for an initialization <strong>in one corner</strong>.
    </figcaption></figure></td>
<td>















<figure  id="figure-evolution-in-logarithmic-scale-of-the-mean-norm-of-the-relocation-vectors-as-a-function-of-the-number-of-lloyds-iterations-for-an-initialization-on-a-line">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q3_line_length.png" alt="Evolution in logarithmic scale of the mean norm of the relocation vectors as a function of the number of Lloyd&#39;s iterations for an initialization **on a line**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution in logarithmic scale of the mean norm of the relocation vectors as a function of the number of Lloyd&rsquo;s iterations for an initialization <strong>on a line</strong>.
    </figcaption></figure></td>
</tr>
</tbody>
</table>
<p> </p>
<p>By zooming the first convergence curve between $30$ and $60$ iterations and plotting it in real scale (and not in logarithmic scale as on the different images), it becomes clear that the convergence of the mean length is quadratic.</p>
















<figure  id="figure-visualization-of-the-sampling-of-the-square-domain-with-n--10-000-points">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q3_regression.png" alt="Visualization of the sampling of the square domain with $N = 10 000$ points." loading="lazy" data-zoomable width="50%" /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualization of the sampling of the square domain with $N = 10 000$ points.
    </figcaption></figure>
<p> </p>
<h1 id="energy-distribution-by-cell">Energy distribution by cell</h1>
<h2 id="calculation-1">Calculation</h2>
<p>The global energy of a domain partition in $N_c$ cells $\mathcal{C}_i$ is given by the following formula :</p>
<p>$$E_{dom} = \sum_{i=1}^{N_c} E_{cell} = \sum_{i=1}^{N_c} \int_{x \in \mathcal{C}_i} ||x-x_i||^2 dx$$</p>
<p>To carry out the calculation of integrals, we proceed by Monte-Carlo method, by sampling a number $N$ of points $x_j$ on the whole domain and by approximating the integral by a discrete sum :</p>
<p>$$E_{cell} = \int_{x \in \mathcal{C}<em>i} ||x-x_i||^2 dx = \sum</em>{x_j \in \mathcal{C}_i} ||x_j-x_i||^2$$</p>
<p>A representation of this sampling is shown for $N = 10,000$. In order to cover the entire domain sufficiently, we have chosen $N = 100,000$.</p>
















<figure  id="figure-visualization-of-cells-after-convergence-in-an-hourglass-shaped-domain">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q4_sampling.png" alt="Visualization of cells after convergence in an hourglass-shaped domain." loading="lazy" data-zoomable width="50%" /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualization of cells after convergence in an hourglass-shaped domain.
    </figcaption></figure>
<p> </p>
<h2 id="convergence-1">Convergence</h2>
<p>Still in the square domain with an initialization of $10$ points, the evolution of the energy of the cells is represented below. For the $3$ initializations tested, we can see that the cells converge to a close energy after about thirty iterations. This convergence is fast for uniform and one-line initializations, with a slight energy correction at about $23$ iterations for the uniform initialization, due to the cells getting stuck (which we find with the growth of the average norm of the relocation vectors around the same number of iterations).</p>
<p>For initialization in a corner, convergence is slower because more iterations are needed to allow the $10$ generators to occupy the entire domain space. However, there is no major energy jump due to a blockage of cells between them.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>















<figure  id="figure-evolution-of-the-average-energy-of-the-cells-as-a-function-of-the-number-of-lloyds-iterations-for-a-uniform-initialization">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q3_uniform_energy.png" alt="Evolution of the average energy of the cells as a function of the number of Lloyd&#39;s iterations for a **uniform** initialization." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the average energy of the cells as a function of the number of Lloyd&rsquo;s iterations for a <strong>uniform</strong> initialization.
    </figcaption></figure></td>
<td>















<figure  id="figure-evolution-of-the-average-energy-of-the-cells-as-a-function-of-the-number-of-lloyds-iterations-for-an-initialization-in-a-corner">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q3_coin_energy.png" alt="Evolution of the average energy of the cells as a function of the number of Lloyd&#39;s iterations for an initialization **in a corner**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the average energy of the cells as a function of the number of Lloyd&rsquo;s iterations for an initialization <strong>in a corner</strong>.
    </figcaption></figure></td>
<td>















<figure  id="figure-evolution-of-the-average-energy-of-the-cells-as-a-function-of-the-number-of-lloyds-iterations-for-an-initialization-on-a-line">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q3_line_energy.png" alt="Evolution of the average energy of the cells as a function of the number of Lloyd&#39;s iterations for an initialization **on a line**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the average energy of the cells as a function of the number of Lloyd&rsquo;s iterations for an initialization <strong>on a line</strong>.
    </figcaption></figure></td>
</tr>
</tbody>
</table>
<p> </p>
<h2 id="domain-influence">Domain influence</h2>
<p>The shape of the domain greatly influences the convergence results. For example, for the circular domain, which is a &ldquo;regular&rdquo; domain in the sense that the edges do not have &ldquo;corners&rdquo; or abrupt breaks in direction (the edges are well continuous and driftable), convergence occurs without any problem after about ten iterations and is not characterized by any particular jumps. The results for the circular domain are shown below.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>















<figure  id="figure-visualization-of-cells-after-convergence-in-a-circular-domain">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_circle_image.png" alt="Visualization of cells after convergence in a circular domain." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualization of cells after convergence in a circular domain.
    </figcaption></figure></td>
<td>















<figure  id="figure-evolution-of-the-mean-norm-of-relocation-vectors-in-a-circular-domain-as-a-function-of-the-number-of-lloyds-iterations-for-uniform-initialization">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_circle_length.png" alt="Evolution of the mean norm of relocation vectors in a circular domain as a function of the number of Lloyd&#39;s iterations for uniform initialization." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the mean norm of relocation vectors in a circular domain as a function of the number of Lloyd&rsquo;s iterations for uniform initialization.
    </figcaption></figure></td>
<td>















<figure  id="figure-evolution-of-the-mean-cell-energy-in-a-circular-domain-as-a-function-of-the-number-of-lloyds-iterations-for-uniform-initialization">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_circle_energy.png" alt="Evolution of the mean cell energy in a circular domain as a function of the number of Lloyd&#39;s iterations for uniform initialization." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the mean cell energy in a circular domain as a function of the number of Lloyd&rsquo;s iterations for uniform initialization.
    </figcaption></figure></td>
</tr>
</tbody>
</table>
<p> </p>
<p>For the other areas provided, more original behaviour can be observed, due to the same observations as those made previously. For the L-shape, the inner corner of the L will cause some increases in average length, as the cells &ldquo;crossing&rdquo; the corner move quickly at once to adapt to the shape, and convergence is quite slow relative to the square and circular shapes.</p>
<p>For the key-shaped domain, convergence is also slower due to the complexity of the domain, and medium-length jumps are more important due to this complexity, because cells move a lot when a &ldquo;corner&rdquo; is crossed and filled by the cells.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>















<figure  id="figure-visualization-of-cells-after-convergence-in-a-l-domain">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_lform_image.png" alt="Visualization of cells after convergence in a **L** domain." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualization of cells after convergence in a <strong>L</strong> domain.
    </figcaption></figure></td>
<td>















<figure  id="figure-visualization-of-cells-after-convergence-in-a-domain-containing-a-cross">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_cross_image.png" alt="Visualization of cells after convergence in a domain **containing a cross**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualization of cells after convergence in a domain <strong>containing a cross</strong>.
    </figcaption></figure></td>
<td>















<figure  id="figure-visualization-of-cells-after-convergence-in-a-domain-in-the-form-of-a-key">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_key_image.png" alt="Visualization of cells after convergence in a domain **in the form of a key**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualization of cells after convergence in a domain <strong>in the form of a key</strong>.
    </figcaption></figure></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>















<figure  id="figure-evolution-of-the-mean-norm-of-relocation-vectors-as-a-function-of-the-number-of-lloyds-iterations-in-a-l-domain">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_lform_length.png" alt="Evolution of the mean norm of relocation vectors as a function of the number of Lloyd&#39;s iterations in a **L** domain." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the mean norm of relocation vectors as a function of the number of Lloyd&rsquo;s iterations in a <strong>L</strong> domain.
    </figcaption></figure></td>
<td>















<figure  id="figure-evolution-of-the-average-norm-of-relocation-vectors-as-a-function-of-the-number-of-lloyds-iterations-in-a-domain-containing-a-cross">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_cross_length.png" alt="Evolution of the average norm of relocation vectors as a function of the number of Lloyd&#39;s iterations in a domain **containing a cross**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the average norm of relocation vectors as a function of the number of Lloyd&rsquo;s iterations in a domain <strong>containing a cross</strong>.
    </figcaption></figure></td>
<td>















<figure  id="figure-evolution-of-the-average-norm-of-relocation-vectors-as-a-function-of-the-number-of-lloyds-iterations-in-a-domain-in-the-form-of-a-key">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_key_length.png" alt="Evolution of the average norm of relocation vectors as a function of the number of Lloyd&#39;s iterations in a domain **in the form of a key**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the average norm of relocation vectors as a function of the number of Lloyd&rsquo;s iterations in a domain <strong>in the form of a key</strong>.
    </figcaption></figure></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>















<figure  id="figure-evolution-of-the-average-cell-energy-as-a-function-of-the-number-of-lloyds-iterations-in-a-l-domain">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_lform_energy.png" alt="Evolution of the average cell energy as a function of the number of Lloyd&#39;s iterations in a **L** domain." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the average cell energy as a function of the number of Lloyd&rsquo;s iterations in a <strong>L</strong> domain.
    </figcaption></figure></td>
<td>















<figure  id="figure-evolution-of-the-average-energy-of-the-cells-as-a-function-of-the-number-of-lloyds-iterations-in-a-domain-containing-a-cross">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_cross_energy.png" alt="Evolution of the average energy of the cells as a function of the number of Lloyd&#39;s iterations in a domain **containing a cross**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the average energy of the cells as a function of the number of Lloyd&rsquo;s iterations in a domain <strong>containing a cross</strong>.
    </figcaption></figure></td>
<td>















<figure  id="figure-evolution-of-the-average-energy-of-the-cells-as-a-function-of-the-number-of-lloyds-iterations-in-a-domain-in-the-form-of-a-key">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_key_energy.png" alt="Evolution of the average energy of the cells as a function of the number of Lloyd&#39;s iterations in a domain **in the form of a key**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the average energy of the cells as a function of the number of Lloyd&rsquo;s iterations in a domain <strong>in the form of a key</strong>.
    </figcaption></figure></td>
</tr>
</tbody>
</table>
<p> </p>
<p>For hourglass-shaped domains (hard-coded in C++ code according to a parameter corresponding to the size of the bottleneck), this difficulty for the Lloyd&rsquo;s iteration to cross corners or narrow passages is clearly highlighted. Indeed, we can see that, in general, the narrower the bottleneck, the longer the cells take to cross the bottleneck, and thus the greater the average length rise when the bottleneck is crossed.</p>
<p><strong>Initialization:</strong> The observation on all domains leads us to think that for fairly simple and regular domains, a uniform initialization is quite efficient. For more complex domain forms, it is advisable to initialize the algorithm with more generators at the irregular edges of the domain, or at places with narrow passages.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>















<figure  id="figure-visualization-of-the-cells-after-convergence-in-an-hourglass-shaped-domain-with-bottleneck-width-1">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_sandglass001_image.png" alt="Visualization of the cells after convergence in an hourglass-shaped domain with bottleneck width **1**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualization of the cells after convergence in an hourglass-shaped domain with bottleneck width <strong>1</strong>.
    </figcaption></figure></td>
<td>















<figure  id="figure-visualization-of-the-cells-after-convergence-in-an-hourglass-shaped-domain-with-bottleneck-width-3">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_sandglass003_image.png" alt="Visualization of the cells after convergence in an hourglass-shaped domain with bottleneck width **3**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualization of the cells after convergence in an hourglass-shaped domain with bottleneck width <strong>3</strong>.
    </figcaption></figure></td>
<td>















<figure  id="figure-visualization-of-the-cells-after-convergence-in-an-hourglass-shaped-domain-with-bottleneck-width-5">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_sandglass005_image.png" alt="Visualization of the cells after convergence in an hourglass-shaped domain with bottleneck width **5**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualization of the cells after convergence in an hourglass-shaped domain with bottleneck width <strong>5</strong>.
    </figcaption></figure></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>















<figure  id="figure-evolution-of-the-average-norm-of-relocation-vectors-as-a-function-of-the-number-of-lloyds-iterations-for-an-hourglass-domain-with-bottleneck-width-1">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_sandglass001_length.png" alt="Evolution of the average norm of relocation vectors as a function of the number of Lloyd&#39;s iterations for an hourglass domain with bottleneck width **1**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the average norm of relocation vectors as a function of the number of Lloyd&rsquo;s iterations for an hourglass domain with bottleneck width <strong>1</strong>.
    </figcaption></figure></td>
<td>















<figure  id="figure-evolution-of-the-average-norm-of-relocation-vectors-as-a-function-of-the-number-of-lloyds-iterations-for-an-hourglass-domain-with-bottleneck-width-3">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_sandglass003_length.png" alt="Evolution of the average norm of relocation vectors as a function of the number of Lloyd&#39;s iterations for an hourglass domain with bottleneck width **3**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the average norm of relocation vectors as a function of the number of Lloyd&rsquo;s iterations for an hourglass domain with bottleneck width <strong>3</strong>.
    </figcaption></figure></td>
<td>















<figure  id="figure-evolution-of-the-average-norm-of-relocation-vectors-as-a-function-of-the-number-of-lloyds-iterations-for-an-hourglass-domain-with-bottleneck-width-5">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_sandglass005_length.png" alt="Evolution of the average norm of relocation vectors as a function of the number of Lloyd&#39;s iterations for an hourglass domain with bottleneck width **5**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the average norm of relocation vectors as a function of the number of Lloyd&rsquo;s iterations for an hourglass domain with bottleneck width <strong>5</strong>.
    </figcaption></figure></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>















<figure  id="figure-evolution-of-the-average-cell-energy-as-a-function-of-the-number-of-lloyds-iterations-for-an-hourglass-domain-with-bottleneck-width-1">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_sandglass001_energy.png" alt="Evolution of the average cell energy as a function of the number of Lloyd&#39;s iterations for an hourglass domain with bottleneck width **1**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the average cell energy as a function of the number of Lloyd&rsquo;s iterations for an hourglass domain with bottleneck width <strong>1</strong>.
    </figcaption></figure></td>
<td>















<figure  id="figure-evolution-of-the-average-cell-energy-as-a-function-of-the-number-of-lloyds-iterations-for-an-hourglass-domain-with-bottleneck-width-3">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_sandglass003_energy.png" alt="Evolution of the average cell energy as a function of the number of Lloyd&#39;s iterations for an hourglass domain with bottleneck width **3**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the average cell energy as a function of the number of Lloyd&rsquo;s iterations for an hourglass domain with bottleneck width <strong>3</strong>.
    </figcaption></figure></td>
<td>















<figure  id="figure-evolution-of-the-average-cell-energy-as-a-function-of-the-number-of-lloyds-iterations-for-an-hourglass-domain-with-bottleneck-width-5">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_sandglass005_energy.png" alt="Evolution of the average cell energy as a function of the number of Lloyd&#39;s iterations for an hourglass domain with bottleneck width **5**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the average cell energy as a function of the number of Lloyd&rsquo;s iterations for an hourglass domain with bottleneck width <strong>5</strong>.
    </figcaption></figure></td>
</tr>
</tbody>
</table>
<p> </p>
<h1 id="overshooting-and-temporal-inertia">Overshooting and temporal inertia</h1>
<h2 id="overshooting">Overshooting</h2>
<p>Overshooting involves moving the generators not to the centres of mass of the cells, but slightly beyond. Informally, we consider the displacement vector $v_N$ at the $N$ iteration of a classical Lloyd&rsquo;s iteration, and instead of moving the generator according to $v_N$, we move it according to $v_{N+1} = (1+\alpha)v_N$, where $\alpha \in \mathbb{R}^{+}$.</p>
<p>There are three classes of behaviour of the Lloyd&rsquo;s iteration according to the value of the overshooting parameter (determined approximately by numerical testing, the limit values of these behaviours change notably according to the shape of the domain and the initialization of the generators) for the square domain and for a uniform initialization:</p>
<ul>
<li>$\alpha \in [0,1]$ : the overshooting parameter is quite small: it speeds up the convergence of Lloyd&rsquo;s iteration&hellip;</li>
<li>$\alpha \approx [1, 1 + \epsilon]$ : the overshooting parameter is a bit too big : the iteration leads to a situation where $(1+\alpha)v_{N+1} = -(1+\alpha)v_N$, which causes the generators to alternate between two configurations</li>
<li>$\alpha &gt; &gt; 1+\epsilon$: the overshooting parameter is much too large: Lloyd&rsquo;s iteration diverges and behaves chaotically.</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>















<figure  id="figure-visualization-of-the-cells-after-convergence-with-an-overshooting-parameter-with-an-overshooting-parameter-alpha--05">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q7_overshooting050_image.png" alt="Visualization of the cells after convergence with an overshooting parameter with an overshooting parameter $\alpha = 0.5$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualization of the cells after convergence with an overshooting parameter with an overshooting parameter $\alpha = 0.5$.
    </figcaption></figure></td>
<td>















<figure  id="figure-visualization-of-the-cells-after-convergence-with-an-overshooting-parameter-with-an-overshooting-parameter-alpha--11">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q7_overshooting110_image.png" alt="Visualization of the cells after convergence with an overshooting parameter with an overshooting parameter $\alpha = 1.1$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualization of the cells after convergence with an overshooting parameter with an overshooting parameter $\alpha = 1.1$.
    </figcaption></figure></td>
<td>















<figure  id="figure-visualization-of-the-cells-after-convergence-with-an-overshooting-parameter-with-an-overshooting-parameter-alpha--15">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q7_overshooting150_image.png" alt="Visualization of the cells after convergence with an overshooting parameter with an overshooting parameter $\alpha = 1.5$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualization of the cells after convergence with an overshooting parameter with an overshooting parameter $\alpha = 1.5$.
    </figcaption></figure></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>















<figure  id="figure-evolution-of-the-mean-norm-of-the-relocation-vectors-as-a-function-of-the-number-of-lloyds-iterations-for-a-square-domain-with-an-overshooting-parameter-alpha--05">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q7_overshooting050_length.png" alt="Evolution of the mean norm of the relocation vectors as a function of the number of Lloyd&#39;s iterations for a square domain with an overshooting parameter $\alpha = 0.5$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the mean norm of the relocation vectors as a function of the number of Lloyd&rsquo;s iterations for a square domain with an overshooting parameter $\alpha = 0.5$.
    </figcaption></figure></td>
<td>















<figure  id="figure-evolution-of-the-mean-norm-of-the-relocation-vectors-as-a-function-of-the-number-of-lloyds-iterations-for-a-square-domain-with-an-overshooting-parameter-alpha--11">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q7_overshooting110_length.png" alt="Evolution of the mean norm of the relocation vectors as a function of the number of Lloyd&#39;s iterations for a square domain with an overshooting parameter $\alpha = 1.1$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the mean norm of the relocation vectors as a function of the number of Lloyd&rsquo;s iterations for a square domain with an overshooting parameter $\alpha = 1.1$.
    </figcaption></figure></td>
<td>















<figure  id="figure-evolution-of-the-mean-norm-of-the-relocation-vectors-as-a-function-of-the-number-of-lloyds-iterations-for-a-square-domain-with-an-overshooting-parameter-alpha--15">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q7_overshooting150_length.png" alt="Evolution of the mean norm of the relocation vectors as a function of the number of Lloyd&#39;s iterations for a square domain with an overshooting parameter $\alpha = 1.5$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the mean norm of the relocation vectors as a function of the number of Lloyd&rsquo;s iterations for a square domain with an overshooting parameter $\alpha = 1.5$.
    </figcaption></figure></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>















<figure  id="figure-evolution-of-the-average-energy-of-the-cells-as-a-function-of-the-number-of-lloyds-iterations-for-a-square-domain-with-an-overshooting-parameter-alpha--05">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q7_overshooting050_energy.png" alt="Evolution of the average energy of the cells as a function of the number of Lloyd&#39;s iterations for a square domain with an overshooting parameter $\alpha = 0.5$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the average energy of the cells as a function of the number of Lloyd&rsquo;s iterations for a square domain with an overshooting parameter $\alpha = 0.5$.
    </figcaption></figure></td>
<td>















<figure  id="figure-evolution-of-the-average-energy-of-the-cells-as-a-function-of-the-number-of-lloyds-iterations-for-a-square-domain-with-an-overshooting-parameter-alpha--11">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q7_overshooting110_energy.png" alt="Evolution of the average energy of the cells as a function of the number of Lloyd&#39;s iterations for a square domain with an overshooting parameter $\alpha = 1.1$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the average energy of the cells as a function of the number of Lloyd&rsquo;s iterations for a square domain with an overshooting parameter $\alpha = 1.1$.
    </figcaption></figure></td>
<td>















<figure  id="figure-evolution-of-the-average-energy-of-the-cells-as-a-function-of-the-number-of-lloyds-iterations-for-a-square-domain-with-an-overshooting-parameter-alpha--15">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q7_overshooting150_energy.png" alt="Evolution of the average energy of the cells as a function of the number of Lloyd&#39;s iterations for a square domain with an overshooting parameter $\alpha = 1.5$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the average energy of the cells as a function of the number of Lloyd&rsquo;s iterations for a square domain with an overshooting parameter $\alpha = 1.5$.
    </figcaption></figure></td>
</tr>
</tbody>
</table>
<p> </p>
<p>Thus, if the parameter is too large, the Lloyd&rsquo;s iteration may not converge. To prevent this problem, we can impose a rather small $\alpha$ parameter (at least strictly less than $1$, less than $0.5$ if we want to be sure to converge even in particular cases).</p>
<p>Another risk is that if the $\alpha$ parameter is too large, Lloyd&rsquo;s iteration will take the generators out of the domain. To overcome this problem, we could use the <em>inside</em> function of <em>cdt.h</em> file, to apply overshooting to the relocation of a generator only if the new generator is inside the domain.</p>
<p> </p>
<h2 id="temporal-inertia">Temporal inertia</h2>
<p>Temporal inertia consists in keeping in memory the centers of mass of the previous iterations, and moving the generators with a linear combination of the previous $n$ displacement vectors. Informally, we move a generator at iteration $N$ according to the vector $v_{N+1} = \sum_{i=N-n}^N w_i v_i$, where the $w_i$ are weights given by the user to the relocation vectors of the previous iterations.</p>
<p>There are three classes of Lloyd&rsquo;s iteration behaviour according to the value of the different coefficients (classes determined approximately by numerical testing, the limit values of these behaviours change in particular according to the shape of the domain and the initialization of the generators) for the square domain and for a uniform initialization, with a number $n = 5$ of displacement vectors taken into account:</p>
<ul>
<li>$\sum_{i=N-n}^N w_i \leq 1$: the previous relocation vectors are relatively little taken into account: convergence is accelerated because the generators move faster, since the first iterations concern larger displacements</li>
<li>$\sum_{i=N-n}^N w_i \approx 1 + \epsilon$: the previous relocation vectors are a bit too much taken into account, and the generators move a bit too much: their positions alternate between $2$ configurations (oscillating behavior)</li>
<li>$\sum_{i=N-n}^N w_i &gt; &gt; 1+\epsilon$: the first relocation vectors are much too much taken into account, and the addition of vectors with too large coefficients produces larger and larger vectors: the Lloyd&rsquo;s iteration diverges and the generators leave the domain</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>















<figure  id="figure-visualization-of-the-cells-after-convergence-with-temporal-inertia-of-the-last-5-displacements-with-weights-w_i--015">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q8_inertia_015_image.png" alt="Visualization of the cells after convergence with temporal inertia of the last 5 displacements, with weights $w_i = 0.15$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualization of the cells after convergence with temporal inertia of the last 5 displacements, with weights $w_i = 0.15$.
    </figcaption></figure></td>
<td>















<figure  id="figure-visualization-of-the-cells-after-convergence-with-temporal-inertia-of-the-last-5-displacements-with-weights-w_i--030">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q8_inertia_030_image.png" alt="Visualization of the cells after convergence with temporal inertia of the last 5 displacements, with weights $w_i = 0.30$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualization of the cells after convergence with temporal inertia of the last 5 displacements, with weights $w_i = 0.30$.
    </figcaption></figure></td>
<td>















<figure  id="figure-visualization-of-the-cells-after-convergence-with-temporal-inertia-of-the-last-5-displacements-with-weights-w_i--050">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q8_inertia_050_image.png" alt="Visualization of the cells after convergence with temporal inertia of the last 5 displacements, with weights $w_i = 0.50$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualization of the cells after convergence with temporal inertia of the last 5 displacements, with weights $w_i = 0.50$.
    </figcaption></figure></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>















<figure  id="figure-evolution-of-the-mean-norm-of-the-relocation-vectors-as-a-function-of-the-number-of-lloyds-iterations-for-a-square-domain-with-temporal-inertia-of-the-last-5-displacements-with-weights-w_i--015">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q8_inertia_015_length.png" alt="Evolution of the mean norm of the relocation vectors as a function of the number of Lloyd&#39;s iterations for a square domain with temporal inertia of the last 5 displacements, with weights $w_i = 0.15$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the mean norm of the relocation vectors as a function of the number of Lloyd&rsquo;s iterations for a square domain with temporal inertia of the last 5 displacements, with weights $w_i = 0.15$.
    </figcaption></figure></td>
<td>















<figure  id="figure-evolution-of-the-mean-norm-of-the-relocation-vectors-as-a-function-of-the-number-of-lloyds-iterations-for-a-square-domain-with-temporal-inertia-of-the-last-5-displacements-with-weights-w_i--030">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q8_inertia_030_length.png" alt="Evolution of the mean norm of the relocation vectors as a function of the number of Lloyd&#39;s iterations for a square domain with temporal inertia of the last 5 displacements, with weights $w_i = 0.30$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the mean norm of the relocation vectors as a function of the number of Lloyd&rsquo;s iterations for a square domain with temporal inertia of the last 5 displacements, with weights $w_i = 0.30$.
    </figcaption></figure></td>
<td>















<figure  id="figure-evolution-of-the-mean-norm-of-the-relocation-vectors-as-a-function-of-the-number-of-lloyds-iterations-for-a-square-domain-with-temporal-inertia-of-the-last-5-displacements-with-weights-w_i--050">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q8_inertia_050_length.png" alt="Evolution of the mean norm of the relocation vectors as a function of the number of Lloyd&#39;s iterations for a square domain with temporal inertia of the last 5 displacements, with weights $w_i = 0.50$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the mean norm of the relocation vectors as a function of the number of Lloyd&rsquo;s iterations for a square domain with temporal inertia of the last 5 displacements, with weights $w_i = 0.50$.
    </figcaption></figure></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>















<figure  id="figure-evolution-of-the-average-energy-of-the-cells-as-a-function-of-the-number-of-lloyds-iterations-for-a-square-domain-with-temporal-inertia-of-the-last-5-displacements-with-weights-w_i--015">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q8_inertia_015_energy.png" alt="Evolution of the average energy of the cells as a function of the number of Lloyd&#39;s iterations for a square domain with temporal inertia of the last 5 displacements, with weights $w_i = 0.15$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the average energy of the cells as a function of the number of Lloyd&rsquo;s iterations for a square domain with temporal inertia of the last 5 displacements, with weights $w_i = 0.15$.
    </figcaption></figure></td>
<td>















<figure  id="figure-evolution-of-the-average-energy-of-the-cells-as-a-function-of-the-number-of-lloyds-iterations-for-a-square-domain-with-temporal-inertia-of-the-last-5-displacements-with-weights-w_i--030">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q8_inertia_030_energy.png" alt="Evolution of the average energy of the cells as a function of the number of Lloyd&#39;s iterations for a square domain with temporal inertia of the last 5 displacements, with weights $w_i = 0.30$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the average energy of the cells as a function of the number of Lloyd&rsquo;s iterations for a square domain with temporal inertia of the last 5 displacements, with weights $w_i = 0.30$.
    </figcaption></figure></td>
<td>















<figure  id="figure-evolution-of-the-average-energy-of-the-cells-as-a-function-of-the-number-of-lloyds-iterations-for-a-square-domain-with-temporal-inertia-of-the-last-5-displacements-with-weights-w_i--050">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q8_inertia_050_energy.png" alt="Evolution of the average energy of the cells as a function of the number of Lloyd&#39;s iterations for a square domain with temporal inertia of the last 5 displacements, with weights $w_i = 0.50$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution of the average energy of the cells as a function of the number of Lloyd&rsquo;s iterations for a square domain with temporal inertia of the last 5 displacements, with weights $w_i = 0.50$.
    </figcaption></figure></td>
</tr>
</tbody>
</table>
<p> </p>
<p>Convergence is faster when the coefficients are not taken too large. Indeed, taking into account the &ldquo;large&rdquo; vectors of previous displacements allows the generators to move faster.</p>
<p>However, similarly to the overshooting parameter being too large, too large coefficients cause the algorithm to diverge (and even with small coefficients, convergence with slight oscillations can be seen in the middle image above). To overcome this, we impose small coefficients, or we check that the generators stay inside the domain with <em>inside</em> parameter.</p>
<p> </p>
<!---

# Vecteurs de relocalisation

## Calcul

La visualisation des vecteurs de relocalisation s'obtient en traçant les segments entre les générateurs avant et après itération de Lloyd. Le résultat obtenu est présenté Figure $1$, où l'on a tracé en rouge les générateurs des cellules à l'itération précédente.

|      |      |
|------|------|
|















<figure  id="figure-visualisation-des-vecteurs-de-relocalisation">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q2_relocation.png" alt="Visualisation des vecteurs de relocalisation." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualisation des vecteurs de relocalisation.
    </figcaption></figure> | 















<figure  id="figure-visualisation-des-cellules-après-convergence">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q3_uniform_image.png" alt="Visualisation des cellules après convergence." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualisation des cellules après convergence.
    </figcaption></figure>|

&nbsp;

Pour le tracé des courbes de convergence, nous avons sauvegardé les différentes valeurs dans des fichiers .txt et traité les données en langage Python, avec la bibliothèque matplotlib.pyplot. Les résultats obtenus sont présentés en Figure $2$. On constate que cette évolution est globalement décroissance, avec une augmentation de l'énergie lorsque les cellules se "débloquent" après avoir convergé vers un minimum local d'énergie.

|      |      |      |
|------|------|------|
|















<figure  id="figure-evolution-en-échelle-logarithmique-de-la-norme-moyenne-des-vecteurs-de-relocalisation-en-fonction-du-nombre-ditérations-de-lloyd-pour-une-initialisation-uniforme">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q3_uniform_length.png" alt="Evolution en échelle logarithmique de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&#39;itérations de Lloyd pour une initialisation **uniforme**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution en échelle logarithmique de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&rsquo;itérations de Lloyd pour une initialisation <strong>uniforme</strong>.
    </figcaption></figure> | 















<figure  id="figure-evolution-en-échelle-logarithmique-de-la-norme-moyenne-des-vecteurs-de-relocalisation-en-fonction-du-nombre-ditérations-de-lloyd-pour-une-initialisation-dans-un-coin">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q3_coin_length.png" alt="Evolution en échelle logarithmique de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&#39;itérations de Lloyd pour une initialisation **dans un coin**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution en échelle logarithmique de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&rsquo;itérations de Lloyd pour une initialisation <strong>dans un coin</strong>.
    </figcaption></figure>| 















<figure  id="figure-evolution-en-échelle-logarithmique-de-la-norme-moyenne-des-vecteurs-de-relocalisation-en-fonction-du-nombre-ditérations-de-lloyd-pour-une-initialisation-sur-une-ligne">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q3_line_length.png" alt="Evolution en échelle logarithmique de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&#39;itérations de Lloyd pour une initialisation **sur une ligne**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution en échelle logarithmique de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&rsquo;itérations de Lloyd pour une initialisation <strong>sur une ligne</strong>.
    </figcaption></figure>|

&nbsp;

En zoomant la première courbe de convergence entre $30$ et $60$ itérations et en la traçant en échelle réelle (et non pas en échelle logarithmique comme sur les différentes images), il apparaît clairement que la convergence de la longueur moyenne est quadratique (Figure $3$).

















<figure  id="figure-visualisation-de-léchantillonnage-du-domaine-carré-avec-n--10-000-points">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q3_regression.png" alt="Visualisation de l&#39;échantillonnage du domaine carré avec $N = 10 000$ points." loading="lazy" data-zoomable width="50%" /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualisation de l&rsquo;échantillonnage du domaine carré avec $N = 10 000$ points.
    </figcaption></figure>

&nbsp;

# Distribution des énergies par cellule

## Calcul

[//]: # (L'énergie globale d'une partition de domaine en $N_c$ cellules $\mathcal{C}_i$ est donnée par la formule suivante :)

$$E_{dom} = \sum_{i=1}^{N_c} E_{cell} = \sum_{i=1}^{N_c} \int_{x \in \mathcal{C}_i} ||x-x_i||^2 dx$$

Pour réaliser le calcul des intégrales, on procède par méthode de Monte-Carlo, en échantillonnant un nombre $N$ de points $x_j$ sur l'ensemble du domaine et en approximant l'intégrale par une somme discrète :

$$E_{cell} = \int_{x \in \mathcal{C}_i} ||x-x_i||^2 dx = \sum_{x_j \in \mathcal{C}_i} ||x_j-x_i||^2$$

Une représentation de cet échantillonnage est réalisée en Figure $4$ pour $N = 10 000$. Pour assez couvrir entièrement le domaine, nous avons choisi $N = 100 000$.

















<figure  id="figure-visualisation-des-cellules-après-convergence-dans-un-domaine-en-forme-de-sablier">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q4_sampling.png" alt="Visualisation des cellules après convergence dans un domaine en forme de sablier." loading="lazy" data-zoomable width="50%" /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualisation des cellules après convergence dans un domaine en forme de sablier.
    </figcaption></figure>

&nbsp;

## Convergence

Toujours dans le domaine carré avec une initialisation de $10$ points, l'évolution de l'énergie des cellules est représentée Figure $5$. Pour les $3$ initialisations testées, on constate que les cellules convergent vers une énergie proche après une trentaine d'itérations. Cette convergence est rapide pour les initialisations uniforme et sur une ligne, avec une légère correction d'énergie à environ 23 itérations pour l'initialisation uniforme, en raison des cellules qui se bloquaient (ce que l'on retrouve avec la croissance de la norme moyenne des vecteurs de relocalisation autour du même nombre d'itérations).

Pour l'initialisation dans un coin, la convergence est plus lente car plus d'itérations sont nécessaires pour permettre aux $10$ générateurs d'occuper l'espace entier du domaine. Cependant, on ne constate pas de saut majeur d'énergie qui serait dû à un blocage de cellules entre elles.

|      |      |      |
|------|------|------|
|















<figure  id="figure-evolution-de-lénergie-moyenne-des-cellules-en-fonction-du-nombre-ditérations-de-lloyd-pour-une-initialisation-uniforme">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q3_uniform_energy.png" alt="Evolution de l&#39;énergie moyenne des cellules en fonction du nombre d&#39;itérations de Lloyd pour une initialisation **uniforme**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution de l&rsquo;énergie moyenne des cellules en fonction du nombre d&rsquo;itérations de Lloyd pour une initialisation <strong>uniforme</strong>.
    </figcaption></figure> | 















<figure  id="figure-evolution-de-lénergie-moyenne-des-cellules-en-fonction-du-nombre-ditérations-de-lloyd-pour-une-initialisation-dans-un-coin">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q3_coin_energy.png" alt="Evolution de l&#39;énergie moyenne des cellules en fonction du nombre d&#39;itérations de Lloyd pour une initialisation **dans un coin**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution de l&rsquo;énergie moyenne des cellules en fonction du nombre d&rsquo;itérations de Lloyd pour une initialisation <strong>dans un coin</strong>.
    </figcaption></figure>| 















<figure  id="figure-evolution-de-lénergie-moyenne-des-cellules-en-fonction-du-nombre-ditérations-de-lloyd-pour-une-initialisation-sur-une-ligne">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q3_line_energy.png" alt="Evolution de l&#39;énergie moyenne des cellules en fonction du nombre d&#39;itérations de Lloyd pour une initialisation **sur une ligne**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution de l&rsquo;énergie moyenne des cellules en fonction du nombre d&rsquo;itérations de Lloyd pour une initialisation <strong>sur une ligne</strong>.
    </figcaption></figure>|

&nbsp;

## Influence du domaine

La forme du domaine influence beaucoup les résultats de convergence. Pour le domaine circulaire par exemple, qui est un domaine "régulier" dans le sens où les bords ne présentent pas de "coins" ou de rupture brutale de direction (les bords sont bien continus et dérivables), la convergence se fait sans problème au bout d'une dizaine d'itérations et n'est pas caractérisée par des sauts particuliers. Les résultats pour le domaine circulaire sont présentés Figure $6$.

|      |      |      |
|------|------|------|
|















<figure  id="figure-visualisation-des-cellules-après-convergence-dans-un-domaine-circulaire">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_circle_image.png" alt="Visualisation des cellules après convergence dans un domaine circulaire." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualisation des cellules après convergence dans un domaine circulaire.
    </figcaption></figure> | 















<figure  id="figure-évolution-de-la-norme-moyenne-des-vecteurs-de-relocalisation-dans-un-domaine-circulaire-en-fonction-du-nombre-ditérations-de-lloyd-pour-une-initialisation-uniforme">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_circle_length.png" alt="Évolution de la norme moyenne des vecteurs de relocalisation dans un domaine circulaire en fonction du nombre d&#39;itérations de Lloyd pour une initialisation uniforme." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Évolution de la norme moyenne des vecteurs de relocalisation dans un domaine circulaire en fonction du nombre d&rsquo;itérations de Lloyd pour une initialisation uniforme.
    </figcaption></figure>| 















<figure  id="figure-évolution-de-lénergie-moyenne-des-cellules-dans-un-domaine-circulaire-en-fonction-du-nombre-ditérations-de-lloyd-pour-une-initialisation-uniforme">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_circle_energy.png" alt="Évolution de l&#39;énergie moyenne des cellules dans un domaine circulaire en fonction du nombre d&#39;itérations de Lloyd pour une initialisation uniforme." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Évolution de l&rsquo;énergie moyenne des cellules dans un domaine circulaire en fonction du nombre d&rsquo;itérations de Lloyd pour une initialisation uniforme.
    </figcaption></figure>|

&nbsp;

Pour les autres domaines fournis, on constate des comportements plus originaux, dus aux mêmes observations que formulées précédemment. Pour la forme en L, le coin intérieur du L va provoquer quelques augmentations de la longueur moyenne, les cellules "franchissant" le coin se déplaçant rapidement d'un coup pour s'adapter à la forme, et la convergence est assez lente relativement aux formes carrée et circulaire.

Pour le domaine en forme de clé, la convergence est aussi plus lente en raison de la complexité du domaine, et les sauts de longueur moyenne sont plus importants en raison de cette complexité, car les cellules se déplacent beaucoup lorsqu'un "coin" est franchi et comblé par les cellules. L'ensemble des résultats est présenté dans les Figures $7$ à $9$.

|      |      |      |
|------|------|------|
|















<figure  id="figure-visualisation-des-cellules-après-convergence-dans-un-domaine-en-l">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_lform_image.png" alt="Visualisation des cellules après convergence dans un domaine **en L**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualisation des cellules après convergence dans un domaine <strong>en L</strong>.
    </figcaption></figure> | 















<figure  id="figure-visualisation-des-cellules-après-convergence-dans-un-domaine-comportant-une-croix">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_cross_image.png" alt="Visualisation des cellules après convergence dans un domaine **comportant une croix**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualisation des cellules après convergence dans un domaine <strong>comportant une croix</strong>.
    </figcaption></figure>| 















<figure  id="figure-visualisation-des-cellules-après-convergence-dans-un-domaine-en-forme-de-clé">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_key_image.png" alt="Visualisation des cellules après convergence dans un domaine **en forme de clé**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualisation des cellules après convergence dans un domaine <strong>en forme de clé</strong>.
    </figcaption></figure>|

|      |      |      |
|------|------|------|
|















<figure  id="figure-evolution-de-la-norme-moyenne-des-vecteurs-de-relocalisation-en-fonction-du-nombre-ditérations-de-lloyd-dans-un-domaine-en-l">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_lform_length.png" alt="Evolution de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&#39;itérations de Lloyd dans un domaine **en L**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&rsquo;itérations de Lloyd dans un domaine <strong>en L</strong>.
    </figcaption></figure> | 















<figure  id="figure-evolution-de-la-norme-moyenne-des-vecteurs-de-relocalisation-en-fonction-du-nombre-ditérations-de-lloyd-dans-un-domaine-comportant-une-croix">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_cross_length.png" alt="Evolution de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&#39;itérations de Lloyd dans un domaine **comportant une croix**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&rsquo;itérations de Lloyd dans un domaine <strong>comportant une croix</strong>.
    </figcaption></figure>| 















<figure  id="figure-evolution-de-la-norme-moyenne-des-vecteurs-de-relocalisation-en-fonction-du-nombre-ditérations-de-lloyd-dans-un-domaine-en-forme-de-clé">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_key_length.png" alt="Evolution de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&#39;itérations de Lloyd dans un domaine **en forme de clé**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&rsquo;itérations de Lloyd dans un domaine <strong>en forme de clé</strong>.
    </figcaption></figure>|

|      |      |      |
|------|------|------|
|















<figure  id="figure-evolution-de-lénergie-moyenne-des-cellules-en-fonction-du-nombre-ditérations-de-lloyd-dans-un-domaine-en-l">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_lform_energy.png" alt="Evolution de l&#39;énergie moyenne des cellules en fonction du nombre d&#39;itérations de Lloyd dans un domaine **en L**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution de l&rsquo;énergie moyenne des cellules en fonction du nombre d&rsquo;itérations de Lloyd dans un domaine <strong>en L</strong>.
    </figcaption></figure> | 















<figure  id="figure-evolution-de-lénergie-moyenne-des-cellules-en-fonction-du-nombre-ditérations-de-lloyd-dans-un-domaine-comportant-une-croix">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_cross_energy.png" alt="Evolution de l&#39;énergie moyenne des cellules en fonction du nombre d&#39;itérations de Lloyd dans un domaine **comportant une croix**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution de l&rsquo;énergie moyenne des cellules en fonction du nombre d&rsquo;itérations de Lloyd dans un domaine <strong>comportant une croix</strong>.
    </figcaption></figure>| 















<figure  id="figure-evolution-de-lénergie-moyenne-des-cellules-en-fonction-du-nombre-ditérations-de-lloyd-dans-un-domaine-en-forme-de-clé">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_key_energy.png" alt="Evolution de l&#39;énergie moyenne des cellules en fonction du nombre d&#39;itérations de Lloyd dans un domaine **en forme de clé**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution de l&rsquo;énergie moyenne des cellules en fonction du nombre d&rsquo;itérations de Lloyd dans un domaine <strong>en forme de clé</strong>.
    </figcaption></figure>|

&nbsp;

Pour les domaines en forme de sablier (codées en dur dans le code C++ en fonction d'un paramètre correspondant à la taille du goulet d'étranglement), cette difficulté pour l'itération de Lloyd à franchir des coins ou des passages étroits est nettement mise en évidence. On constate en effet que, de façon générale, plus le goulet d'étranglement est étroit, plus les cellules mettent du temps à franchir le goulet d'étranglement, et donc plus la remontée de longueur moyenne est importante lorsqu'il est franchi (Figure $11$).

**Initialisation:** L'observation sur l'ensemble des domaines nous amène à penser que pour des domaines assez simples et réguliers, une initialisation uniforme est assez efficace. Pour des formes de domaines plus complexes, il convient d'initialiser l'algorithme avec plus de générateurs aux bords irréguliers du domaine, ou aux endroits présentant des passages étroits.

|      |      |      |
|------|------|------|
|















<figure  id="figure-visualisation-des-cellules-après-convergence-dans-un-domaine-en-forme-de-sablier-avec-goulet-détranglement-de-largeur-1">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_sandglass001_image.png" alt="Visualisation des cellules après convergence dans un domaine en forme de sablier avec goulet d&#39;étranglement de largeur **1**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualisation des cellules après convergence dans un domaine en forme de sablier avec goulet d&rsquo;étranglement de largeur <strong>1</strong>.
    </figcaption></figure> | 















<figure  id="figure-visualisation-des-cellules-après-convergence-dans-un-domaine-en-forme-de-sablier-avec-goulet-détranglement-de-largeur-3">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_sandglass003_image.png" alt="Visualisation des cellules après convergence dans un domaine en forme de sablier avec goulet d&#39;étranglement de largeur **3**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualisation des cellules après convergence dans un domaine en forme de sablier avec goulet d&rsquo;étranglement de largeur <strong>3</strong>.
    </figcaption></figure>| 















<figure  id="figure-visualisation-des-cellules-après-convergence-dans-un-domaine-en-forme-de-sablier-avec-goulet-détranglement-de-largeur-5">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_sandglass005_image.png" alt="Visualisation des cellules après convergence dans un domaine en forme de sablier avec goulet d&#39;étranglement de largeur **5**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualisation des cellules après convergence dans un domaine en forme de sablier avec goulet d&rsquo;étranglement de largeur <strong>5</strong>.
    </figcaption></figure>|

|      |      |      |
|------|------|------|
|















<figure  id="figure-evolution-de-la-norme-moyenne-des-vecteurs-de-relocalisation-en-fonction-du-nombre-ditérations-de-lloyd-pour-un-domaine-en-sablier-avec-goulet-détranglement-de-largeur-1">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_sandglass001_length.png" alt="Evolution de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&#39;itérations de Lloyd pour un domaine en sablier avec goulet d&#39;étranglement de largeur **1**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&rsquo;itérations de Lloyd pour un domaine en sablier avec goulet d&rsquo;étranglement de largeur <strong>1</strong>.
    </figcaption></figure> | 















<figure  id="figure-evolution-de-la-norme-moyenne-des-vecteurs-de-relocalisation-en-fonction-du-nombre-ditérations-de-lloyd-pour-un-domaine-en-sablier-avec-goulet-détranglement-de-largeur-3">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_sandglass003_length.png" alt="Evolution de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&#39;itérations de Lloyd pour un domaine en sablier avec goulet d&#39;étranglement de largeur **3**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&rsquo;itérations de Lloyd pour un domaine en sablier avec goulet d&rsquo;étranglement de largeur <strong>3</strong>.
    </figcaption></figure>| 















<figure  id="figure-evolution-de-la-norme-moyenne-des-vecteurs-de-relocalisation-en-fonction-du-nombre-ditérations-de-lloyd-pour-un-domaine-en-sablier-avec-goulet-détranglement-de-largeur-5">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_sandglass005_length.png" alt="Evolution de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&#39;itérations de Lloyd pour un domaine en sablier avec goulet d&#39;étranglement de largeur **5**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&rsquo;itérations de Lloyd pour un domaine en sablier avec goulet d&rsquo;étranglement de largeur <strong>5</strong>.
    </figcaption></figure>|

|      |      |      |
|------|------|------|
|















<figure  id="figure-evolution-de-lénergie-moyenne-des-cellules-en-fonction-du-nombre-ditérations-de-lloyd-pour-un-domaine-en-sablier-avec-goulet-détranglement-de-largeur-1">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_sandglass001_energy.png" alt="Evolution de l&#39;énergie moyenne des cellules en fonction du nombre d&#39;itérations de Lloyd pour un domaine en sablier avec goulet d&#39;étranglement de largeur **1**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution de l&rsquo;énergie moyenne des cellules en fonction du nombre d&rsquo;itérations de Lloyd pour un domaine en sablier avec goulet d&rsquo;étranglement de largeur <strong>1</strong>.
    </figcaption></figure> | 















<figure  id="figure-evolution-de-lénergie-moyenne-des-cellules-en-fonction-du-nombre-ditérations-de-lloyd-pour-un-domaine-en-sablier-avec-goulet-détranglement-de-largeur-3">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_sandglass003_energy.png" alt="Evolution de l&#39;énergie moyenne des cellules en fonction du nombre d&#39;itérations de Lloyd pour un domaine en sablier avec goulet d&#39;étranglement de largeur **3**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution de l&rsquo;énergie moyenne des cellules en fonction du nombre d&rsquo;itérations de Lloyd pour un domaine en sablier avec goulet d&rsquo;étranglement de largeur <strong>3</strong>.
    </figcaption></figure>| 















<figure  id="figure-evolution-de-lénergie-moyenne-des-cellules-en-fonction-du-nombre-ditérations-de-lloyd-pour-un-domaine-en-sablier-avec-goulet-détranglement-de-largeur-5">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q5_sandglass005_energy.png" alt="Evolution de l&#39;énergie moyenne des cellules en fonction du nombre d&#39;itérations de Lloyd pour un domaine en sablier avec goulet d&#39;étranglement de largeur **5**." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution de l&rsquo;énergie moyenne des cellules en fonction du nombre d&rsquo;itérations de Lloyd pour un domaine en sablier avec goulet d&rsquo;étranglement de largeur <strong>5</strong>.
    </figcaption></figure>|

&nbsp;

# Dépassement des centres (overshooting) et inertie temporelle

## Overshooting

L'overshooting consiste à déplacer les générateurs non pas aux centres de masse des cellules, mais un peu au-delà. Informatiquement, on considère le vecteur de déplacement $v_N$ à l'itération $N$ d'une itération de Lloyd classique, et au lieu de déplacer le générateur selon $v_N$, on le déplace selon $v_{N+1} = (1+\alpha)v_N$, où $\alpha \in \mathbb{R}^{+}$.

On distingue trois classes de comportement de l'itération de Lloyd selon la valeur du paramètre d'overshooting (déterminées de façon approximative en testant numériquement, les valeurs limites de ces comportements changent notamment selon la forme du domaine et l'initialisation des générateurs) pour le domaine carré et pour une initialisation uniforme (Figures $13$ à $15$) :

$\alpha \in [0,1]$ : la paramètre d'overshooting est assez petit : il permet d'accélérer la convergence de l'itération de Lloyd
- $\alpha \approx [1, 1 + \epsilon]$ : le paramètre d'overshooting est un peu trop grand : l'itération aboutit à une situation où $(1+\alpha)v_{N+1} = -(1+\alpha)v_N$, ce qui entraîne l'alternance des générateurs entre deux configurations
- $\alpha > > 1+\epsilon$ : le paramètre d'overshooting est beaucoup trop grand : l'itération de Lloyd diverge et a un comportement chaotique

|      |      |      |
|------|------|------|
|















<figure  id="figure-visualisation-des-cellules-après-convergence-avec-un-paramètre-dovershooting-avec-un-paramètre-dovershooting-alpha--05">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q7_overshooting050_image.png" alt="Visualisation des cellules après convergence avec un paramètre d&#39;overshooting avec un paramètre d&#39;overshooting $\alpha = 0.5$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualisation des cellules après convergence avec un paramètre d&rsquo;overshooting avec un paramètre d&rsquo;overshooting $\alpha = 0.5$.
    </figcaption></figure> | 















<figure  id="figure-visualisation-des-cellules-après-convergence-avec-un-paramètre-dovershooting-avec-un-paramètre-dovershooting-alpha--11">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q7_overshooting110_image.png" alt="Visualisation des cellules après convergence avec un paramètre d&#39;overshooting avec un paramètre d&#39;overshooting $\alpha = 1.1$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualisation des cellules après convergence avec un paramètre d&rsquo;overshooting avec un paramètre d&rsquo;overshooting $\alpha = 1.1$.
    </figcaption></figure>| 















<figure  id="figure-visualisation-des-cellules-après-convergence-avec-un-paramètre-dovershooting-avec-un-paramètre-dovershooting-alpha--15">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q7_overshooting150_image.png" alt="Visualisation des cellules après convergence avec un paramètre d&#39;overshooting avec un paramètre d&#39;overshooting $\alpha = 1.5$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualisation des cellules après convergence avec un paramètre d&rsquo;overshooting avec un paramètre d&rsquo;overshooting $\alpha = 1.5$.
    </figcaption></figure>|

|      |      |      |
|------|------|------|
|















<figure  id="figure-evolution-de-la-norme-moyenne-des-vecteurs-de-relocalisation-en-fonction-du-nombre-ditérations-de-lloyd-pour-un-domaine-carré-avec-un-paramètre-dovershooting-alpha--05">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q7_overshooting050_length.png" alt="Evolution de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&#39;itérations de Lloyd pour un domaine carré avec un paramètre d&#39;overshooting $\alpha = 0.5$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&rsquo;itérations de Lloyd pour un domaine carré avec un paramètre d&rsquo;overshooting $\alpha = 0.5$.
    </figcaption></figure> | 















<figure  id="figure-evolution-de-la-norme-moyenne-des-vecteurs-de-relocalisation-en-fonction-du-nombre-ditérations-de-lloyd-pour-un-domaine-carré-avec-un-paramètre-dovershooting-alpha--11">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q7_overshooting110_length.png" alt="Evolution de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&#39;itérations de Lloyd pour un domaine carré avec un paramètre d&#39;overshooting $\alpha = 1.1$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&rsquo;itérations de Lloyd pour un domaine carré avec un paramètre d&rsquo;overshooting $\alpha = 1.1$.
    </figcaption></figure>| 















<figure  id="figure-evolution-de-la-norme-moyenne-des-vecteurs-de-relocalisation-en-fonction-du-nombre-ditérations-de-lloyd-pour-un-domaine-carré-avec-un-paramètre-dovershooting-alpha--15">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q7_overshooting150_length.png" alt="Evolution de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&#39;itérations de Lloyd pour un domaine carré avec un paramètre d&#39;overshooting $\alpha = 1.5$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&rsquo;itérations de Lloyd pour un domaine carré avec un paramètre d&rsquo;overshooting $\alpha = 1.5$.
    </figcaption></figure>|

|      |      |      |
|------|------|------|
|















<figure  id="figure-evolution-de-lénergie-moyenne-des-cellules-en-fonction-du-nombre-ditérations-de-lloyd-pour-un-domaine-carré-avec-un-paramètre-dovershooting-alpha--05">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q7_overshooting050_energy.png" alt="Evolution de l&#39;énergie moyenne des cellules en fonction du nombre d&#39;itérations de Lloyd pour un domaine carré avec un paramètre d&#39;overshooting $\alpha = 0.5$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution de l&rsquo;énergie moyenne des cellules en fonction du nombre d&rsquo;itérations de Lloyd pour un domaine carré avec un paramètre d&rsquo;overshooting $\alpha = 0.5$.
    </figcaption></figure> | 















<figure  id="figure-evolution-de-lénergie-moyenne-des-cellules-en-fonction-du-nombre-ditérations-de-lloyd-pour-un-domaine-carré-avec-un-paramètre-dovershooting-alpha--11">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q7_overshooting110_energy.png" alt="Evolution de l&#39;énergie moyenne des cellules en fonction du nombre d&#39;itérations de Lloyd pour un domaine carré avec un paramètre d&#39;overshooting $\alpha = 1.1$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution de l&rsquo;énergie moyenne des cellules en fonction du nombre d&rsquo;itérations de Lloyd pour un domaine carré avec un paramètre d&rsquo;overshooting $\alpha = 1.1$.
    </figcaption></figure>| 















<figure  id="figure-evolution-de-lénergie-moyenne-des-cellules-en-fonction-du-nombre-ditérations-de-lloyd-pour-un-domaine-carré-avec-un-paramètre-dovershooting-alpha--15">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q7_overshooting150_energy.png" alt="Evolution de l&#39;énergie moyenne des cellules en fonction du nombre d&#39;itérations de Lloyd pour un domaine carré avec un paramètre d&#39;overshooting $\alpha = 1.5$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution de l&rsquo;énergie moyenne des cellules en fonction du nombre d&rsquo;itérations de Lloyd pour un domaine carré avec un paramètre d&rsquo;overshooting $\alpha = 1.5$.
    </figcaption></figure>|

&nbsp;

Ainsi, si le paramètre est trop important, l'itération de Lloyd risque de ne pas converger. Pour prévenir ce problème, on peut imposer un paramètre $\alpha$ assez petit (au moins strictement inférieur à 1, inférieur à $0.5$ si l'on veut être sûr de converger y compris dans des cas particuliers).

Un autre risque est que si le paramètre $\alpha$ est trop grand, l'itération de Lloyd fasse sortir les générateurs du domaine. Pour pallier ce problème informatiquement, on pourrait utiliser la fonction inside de cdt.h, pour appliquer l'overshooting à la relocalisation d'un générateur seulement si le nouveau générateur est bien à l'intérieur (inside) du domaine.

&nbsp;

## Inertie temporelle

L'inertie temporelle consiste à garder en mémoire les centres de masse des itérations précédentes, et à déplacer les générateurs avec une combinaison linéaire des $n$ vecteurs déplacements précédents. Informatiquement, on déplace un générateur à l'itération $N$ selon le vecteur $v_{N+1} = \sum_{i=N-n}^N w_i v_i$, où les $w_i$ sont des poids données par l'utilisateur aux vecteurs de relocalisation des itérations précédentes.

On distingue trois classes de comportement de l'itération de Lloyd selon la valeur des différents coefficients (classes déterminées de façon approximative en testant numériquement, les valeurs limites de ces comportements changent notamment selon la forme du domaine et l'initialisation des générateurs) pour le domaine carré et pour une initialisation uniforme, avec un nombre $n = 5$ de vecteurs déplacements pris en compte (Figures $16$ à $18$):

- $\sum_{i=N-n}^N w_i \leq 1$ : les précédents vecteurs de relocalisation sont relativement peu pris en compte : la convergence est accélérée car les générateurs se déplacent plus vite, puisque les premières itérations concernent des déplacements plus importants
- $\sum_{i=N-n}^N w_i \approx 1 + \epsilon$ : les précédents vecteurs de relocalisation sont un peu trop pris en compte, et les générateurs se déplacent un peu trop : leurs positions alternent entre 2 configurations (comportement oscillant)
- $\sum_{i=N-n}^N w_i > > 1+\epsilon$ : les premiers vecteurs de relocalisation sont beaucoup trop pris en compte, et l'addition des vecteurs avec de trop grands coefficients produit des vecteurs de plus en plus grands : l'itération de Lloyd diverge et les générateurs sortent du domaine.

|      |      |      |
|------|------|------|
|















<figure  id="figure-visualisation-des-cellules-après-convergence-avec-inertie-temporelle-des-5-derniers-déplacements-avec-des-poids-w_i--015">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q8_inertia_015_image.png" alt="Visualisation des cellules après convergence avec inertie temporelle des 5 derniers déplacements, avec des poids $w_i = 0.15$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualisation des cellules après convergence avec inertie temporelle des 5 derniers déplacements, avec des poids $w_i = 0.15$.
    </figcaption></figure> | 















<figure  id="figure-visualisation-des-cellules-après-convergence-avec-inertie-temporelle-des-5-derniers-déplacements-avec-des-poids-w_i--030">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q8_inertia_030_image.png" alt="Visualisation des cellules après convergence avec inertie temporelle des 5 derniers déplacements, avec des poids $w_i = 0.30$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualisation des cellules après convergence avec inertie temporelle des 5 derniers déplacements, avec des poids $w_i = 0.30$.
    </figcaption></figure>| 















<figure  id="figure-visualisation-des-cellules-après-convergence-avec-inertie-temporelle-des-5-derniers-déplacements-avec-des-poids-w_i--050">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q8_inertia_050_image.png" alt="Visualisation des cellules après convergence avec inertie temporelle des 5 derniers déplacements, avec des poids $w_i = 0.50$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Visualisation des cellules après convergence avec inertie temporelle des 5 derniers déplacements, avec des poids $w_i = 0.50$.
    </figcaption></figure>|

|      |      |      |
|------|------|------|
|















<figure  id="figure-evolution-de-la-norme-moyenne-des-vecteurs-de-relocalisation-en-fonction-du-nombre-ditérations-de-lloyd-pour-un-domaine-carré-avec-inertie-temporelle-des-5-derniers-déplacements-avec-des-poids-w_i--015">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q8_inertia_015_length.png" alt="Evolution de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&#39;itérations de Lloyd pour un domaine carré avec inertie temporelle des 5 derniers déplacements, avec des poids $w_i = 0.15$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&rsquo;itérations de Lloyd pour un domaine carré avec inertie temporelle des 5 derniers déplacements, avec des poids $w_i = 0.15$.
    </figcaption></figure> | 















<figure  id="figure-evolution-de-la-norme-moyenne-des-vecteurs-de-relocalisation-en-fonction-du-nombre-ditérations-de-lloyd-pour-un-domaine-carré-avec-inertie-temporelle-des-5-derniers-déplacements-avec-des-poids-w_i--030">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q8_inertia_030_length.png" alt="Evolution de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&#39;itérations de Lloyd pour un domaine carré avec inertie temporelle des 5 derniers déplacements, avec des poids $w_i = 0.30$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&rsquo;itérations de Lloyd pour un domaine carré avec inertie temporelle des 5 derniers déplacements, avec des poids $w_i = 0.30$.
    </figcaption></figure>| 















<figure  id="figure-evolution-de-la-norme-moyenne-des-vecteurs-de-relocalisation-en-fonction-du-nombre-ditérations-de-lloyd-pour-un-domaine-carré-avec-inertie-temporelle-des-5-derniers-déplacements-avec-des-poids-w_i--050">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q8_inertia_050_length.png" alt="Evolution de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&#39;itérations de Lloyd pour un domaine carré avec inertie temporelle des 5 derniers déplacements, avec des poids $w_i = 0.50$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution de la norme moyenne des vecteurs de relocalisation en fonction du nombre d&rsquo;itérations de Lloyd pour un domaine carré avec inertie temporelle des 5 derniers déplacements, avec des poids $w_i = 0.50$.
    </figcaption></figure>|

|      |      |      |
|------|------|------|
|















<figure  id="figure-evolution-de-lénergie-moyenne-des-cellules-en-fonction-du-nombre-ditérations-de-lloyd-pour-un-domaine-carré-avec-inertie-temporelle-des-5-derniers-déplacements-avec-des-poids-w_i--015">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q8_inertia_015_energy.png" alt="Evolution de l&#39;énergie moyenne des cellules en fonction du nombre d&#39;itérations de Lloyd pour un domaine carré avec inertie temporelle des 5 derniers déplacements, avec des poids $w_i = 0.15$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution de l&rsquo;énergie moyenne des cellules en fonction du nombre d&rsquo;itérations de Lloyd pour un domaine carré avec inertie temporelle des 5 derniers déplacements, avec des poids $w_i = 0.15$.
    </figcaption></figure> | 















<figure  id="figure-evolution-de-lénergie-moyenne-des-cellules-en-fonction-du-nombre-ditérations-de-lloyd-pour-un-domaine-carré-avec-inertie-temporelle-des-5-derniers-déplacements-avec-des-poids-w_i--030">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q8_inertia_030_energy.png" alt="Evolution de l&#39;énergie moyenne des cellules en fonction du nombre d&#39;itérations de Lloyd pour un domaine carré avec inertie temporelle des 5 derniers déplacements, avec des poids $w_i = 0.30$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution de l&rsquo;énergie moyenne des cellules en fonction du nombre d&rsquo;itérations de Lloyd pour un domaine carré avec inertie temporelle des 5 derniers déplacements, avec des poids $w_i = 0.30$.
    </figcaption></figure> | 















<figure  id="figure-evolution-de-lénergie-moyenne-des-cellules-en-fonction-du-nombre-ditérations-de-lloyd-pour-un-domaine-carré-avec-inertie-temporelle-des-5-derniers-déplacements-avec-des-poids-w_i--050">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/media/lloyd/q8_inertia_050_energy.png" alt="Evolution de l&#39;énergie moyenne des cellules en fonction du nombre d&#39;itérations de Lloyd pour un domaine carré avec inertie temporelle des 5 derniers déplacements, avec des poids $w_i = 0.50$." loading="lazy" data-zoomable /></div>
  </div><figcaption data-pre="Figure&nbsp;" data-post=":&nbsp;" class="numbered">
      Evolution de l&rsquo;énergie moyenne des cellules en fonction du nombre d&rsquo;itérations de Lloyd pour un domaine carré avec inertie temporelle des 5 derniers déplacements, avec des poids $w_i = 0.50$.
    </figcaption></figure>|

&nbsp;

La convergence est plus rapide lorsque les coefficients ne sont pas pris trop grands. En effet, la prise de comptes des "grands" vecteurs de déplacements précédents permet aux générateurs de se déplacer plus vite.

Cependant, de façon analogue au paramètre d'overshooting trop grand, des coefficients trop grands provoquent une divergence de l'algorithme (et même avec des coefficients petits, on constate une convergence avec de légères oscillations sur l'image de gauche en Figure $17$). Pour pallier cela, on impose des coefficients petits, ou on vérifie que les générateurs restent à l'intérieur du domaine avec le paramètre *inside*.

&nbsp;

--->

    </div>

    







<div class="share-box">
  <ul class="share">
    
  </ul>
</div>











  
  
    



  
  
  
    
  
  
  
  <div class="media author-card content-widget-hr">
    
      
      <a href="https://michaelkarpe.github.io/"><img class="avatar mr-3 avatar-circle" src="/authors/admin/avatar_hu66194438bc6e14d260870deead871271_609448_270x270_fill_q75_lanczos_center.jpg" alt="Michaël Karpe"></a>
    

    <div class="media-body">
      <h5 class="card-title"><a href="https://michaelkarpe.github.io/">Michaël Karpe</a></h5>
      <h6 class="card-subtitle">Machine Learning Scientist</h6>
      <p class="card-text">Machine Learning Scientist at Next Gate Tech. MEng in Industrial Engineering &amp; Operations Research, FinTech Concentration at University of California, Berkeley. Diplôme d&rsquo;Ingénieur (MSc) in Applied Mathematics &amp; Computer Science, Machine Learning &amp; Computer Vision Concentration at Ecole des Ponts ParisTech, France.</p>
      <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://www.linkedin.com/in/michaelkarpe/" target="_blank" rel="noopener">
        <i class="fab fa-linkedin"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/MichaelKarpe" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://scholar.google.com/citations?user=2yQ3TvgAAAAJ" target="_blank" rel="noopener">
        <i class="ai ai-google-scholar"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://www.kaggle.com/mika30" target="_blank" rel="noopener">
        <i class="fab fa-kaggle"></i>
      </a>
    </li>
  
</ul>

    </div>
  </div>


  
    




  
















  </div>
</article>
  </div>

  <div class="page-footer">
    
    
    <div class="container">
      <footer class="site-footer">

  












  

  

  

  
  






  
  <p class="powered-by copyright-license-text">
    © Michaël Karpe 2023. All rights reserved.
  </p>
  




  <p class="powered-by">
    
    
    
      
      
      
      
      
      

    
  </p>
</footer>

    </div>
    
  </div>

  


<script src="/js/vendor-bundle.min.d26509351aa0ff874abbee824e982e9b.js"></script>




  

  
  

  













  
  <script id="search-hit-fuse-template" type="text/x-template">
    <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
    </div>
  </script>
  
    <script src="https://cdn.jsdelivr.net/gh/krisk/Fuse@v3.2.1/dist/fuse.min.js" integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/gh/julmot/mark.js@8.11.1/dist/jquery.mark.min.js" integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin="anonymous"></script>
  












  
  
  
  
  
  
  







<script id="page-data" type="application/json">{"use_headroom":true}</script>



  <script src="/js/wowchemy-headroom.c251366b4128fd5e6b046d4c97a62a51.js" type="module"></script>








  
  


<script src="/en/js/wowchemy.min.54dd6e4d8f2e4b1d098381b57f18dd83.js"></script>







  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        
        <pre><code></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>


  <script src="/js/wowchemy-publication.68f8d7090562ca65fc6d3cb3f8f2d2cb.js" type="module"></script>
















</body>
</html>
